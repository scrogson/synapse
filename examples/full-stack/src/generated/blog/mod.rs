//! Blog module - combines tonic and synapse generated code
//!
//! This module is auto-generated by build.rs

#![allow(missing_docs)]
#![allow(unused_imports)]
#![allow(clippy::all)]
#![allow(dead_code)]

// Include tonic-generated gRPC code (from OUT_DIR)
tonic::include_proto!("blog");

// Prelude for synapse-generated code
pub mod prelude {
    pub use sea_orm::entity::prelude::*;
    pub use sea_orm::{DatabaseConnection, DbErr};

    // Re-export proto types from parent
    pub use super::*;

    // Storage error type
    #[derive(Debug, thiserror::Error)]
    pub enum StorageError {
        #[error("database error: {0}")]
        Database(#[from] sea_orm::DbErr),
        #[error("not found: {0}")]
        NotFound(String),
        #[error("invalid argument: {0}")]
        InvalidArgument(String),
    }
}

// Include synapse-generated entities
pub mod user;
pub mod post;

// Include synapse-generated storage traits
pub mod user_service_storage;
pub mod post_service_storage;

// Include synapse-generated storage implementations
pub mod sea_orm_user_service_storage;
pub mod sea_orm_post_service_storage;

// Include synapse-generated gRPC services
pub mod user_service;
pub mod post_service;

// Conversions between proto types and SeaORM entities
pub mod conversions;

// GraphQL schema
pub mod graphql_schema;

// Re-export for convenience
pub use user::Model as UserModel;
pub use post::Model as PostModel;
pub use user_service_storage::UserServiceStorage;
pub use post_service_storage::PostServiceStorage;
pub use sea_orm_user_service_storage::SeaOrmUserServiceStorage;
pub use sea_orm_post_service_storage::SeaOrmPostServiceStorage;
pub use user_service::UserServiceGrpcService;
pub use post_service::PostServiceGrpcService;
