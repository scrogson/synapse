//! Conversions between proto types and SeaORM entities
//!
//! This module is auto-generated by protoc-gen-synapse.
//! @generated
#![allow(missing_docs)]
#![allow(unused_imports)]
use super::prelude::*;
use super::user;
use super::post;
/// Extension trait for applying updates to an active model
pub trait ApplyUpdate<T> {
    fn apply_update(&mut self, input: T);
}
/// Convert SeaORM Model to proto message
impl From<user::Model> for User {
    fn from(model: user::Model) -> Self {
        Self {
            id: model.id,
            email: model.email,
            name: model.name,
            bio: model.bio,
            created_at: Some(prost_types::Timestamp {
                seconds: model.created_at.timestamp(),
                nanos: model.created_at.timestamp_subsec_nanos() as i32,
            }),
            updated_at: Some(prost_types::Timestamp {
                seconds: model.updated_at.timestamp(),
                nanos: model.updated_at.timestamp_subsec_nanos() as i32,
            }),
        }
    }
}
/// Convert CreateInput to SeaORM ActiveModel
impl From<CreateUserInput> for user::ActiveModel {
    fn from(input: CreateUserInput) -> Self {
        use sea_orm::ActiveValue::Set;
        Self {
            email: Set(input.email),
            name: Set(input.name),
            bio: Set(input.bio),
            ..Default::default()
        }
    }
}
/// Apply UpdateInput to SeaORM ActiveModel
impl ApplyUpdate<UpdateUserInput> for user::ActiveModel {
    fn apply_update(&mut self, input: UpdateUserInput) {
        use sea_orm::ActiveValue::Set;
        if let Some(value) = input.email {
            self.email = Set(value);
        }
        if let Some(value) = input.name {
            self.name = Set(value);
        }
        if let Some(value) = input.bio {
            self.bio = Set(Some(value));
        }
    }
}
/// Convert SeaORM Model to proto message
impl From<post::Model> for Post {
    fn from(model: post::Model) -> Self {
        Self {
            id: model.id,
            title: model.title,
            content: model.content,
            published: model.published,
            author_id: model.author_id,
            created_at: Some(prost_types::Timestamp {
                seconds: model.created_at.timestamp(),
                nanos: model.created_at.timestamp_subsec_nanos() as i32,
            }),
            updated_at: Some(prost_types::Timestamp {
                seconds: model.updated_at.timestamp(),
                nanos: model.updated_at.timestamp_subsec_nanos() as i32,
            }),
        }
    }
}
/// Convert CreateInput to SeaORM ActiveModel
impl From<CreatePostInput> for post::ActiveModel {
    fn from(input: CreatePostInput) -> Self {
        use sea_orm::ActiveValue::Set;
        Self {
            title: Set(input.title),
            content: Set(input.content),
            published: Set(input.published),
            author_id: Set(input.author_id),
            ..Default::default()
        }
    }
}
/// Apply UpdateInput to SeaORM ActiveModel
impl ApplyUpdate<UpdatePostInput> for post::ActiveModel {
    fn apply_update(&mut self, input: UpdatePostInput) {
        use sea_orm::ActiveValue::Set;
        if let Some(value) = input.title {
            self.title = Set(value);
        }
        if let Some(value) = input.content {
            self.content = Set(value);
        }
        if let Some(value) = input.published {
            self.published = Set(value);
        }
    }
}
