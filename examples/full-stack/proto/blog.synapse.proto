// Auto-generated by synapse-proto-gen
// DO NOT EDIT - changes will be overwritten

syntax = "proto3";

package blog;

import "google/protobuf/timestamp.proto";

// =============================================================================
// Primitive Filter Types
// =============================================================================

message StringFilter {
  optional string eq = 1;
  optional string ne = 2;
  optional string contains = 3;
  optional string starts_with = 4;
  optional string ends_with = 5;
}

message IntFilter {
  optional int64 eq = 1;
  optional int64 ne = 2;
  optional int64 gt = 3;
  optional int64 gte = 4;
  optional int64 lt = 5;
  optional int64 lte = 6;
  repeated int64 in = 7;
}

message FloatFilter {
  optional double eq = 1;
  optional double ne = 2;
  optional double gt = 3;
  optional double gte = 4;
  optional double lt = 5;
  optional double lte = 6;
}

message BoolFilter {
  optional bool eq = 1;
}

message TimestampFilter {
  optional google.protobuf.Timestamp eq = 1;
  optional google.protobuf.Timestamp ne = 2;
  optional google.protobuf.Timestamp gt = 3;
  optional google.protobuf.Timestamp gte = 4;
  optional google.protobuf.Timestamp lt = 5;
  optional google.protobuf.Timestamp lte = 6;
}

enum OrderDirection {
  ORDER_DIRECTION_UNSPECIFIED = 0;
  ASC = 1;
  DESC = 2;
}

message PageInfo {
  bool has_next_page = 1;
  bool has_previous_page = 2;
  optional string start_cursor = 3;
  optional string end_cursor = 4;
}


// User types
message UserFilter {
  optional IntFilter id = 1;
  optional StringFilter email = 2;
  optional StringFilter name = 3;
  optional StringFilter bio = 4;
  optional TimestampFilter created_at = 5;
  optional TimestampFilter updated_at = 6;
}

message UserOrderBy {
  optional OrderDirection id = 1;
  optional OrderDirection email = 2;
  optional OrderDirection name = 3;
  optional OrderDirection bio = 4;
  optional OrderDirection created_at = 5;
  optional OrderDirection updated_at = 6;
}

message UserEdge {
  string cursor = 1;
  User node = 2;
}

message UserConnection {
  repeated UserEdge edges = 1;
  PageInfo page_info = 2;
}

message GetUserRequest {
  int64 id = 1;
}

message GetUserResponse {
  User user = 1;
}

message ListUsersRequest {
  // Relay pagination
  optional string after = 1;
  optional string before = 2;
  optional int32 first = 3;
  optional int32 last = 4;
  // Filter & ordering
  optional UserFilter filter = 5;
  optional UserOrderBy order_by = 6;
}

message CreateUserRequest {
  string email = 1;
  string name = 2;
  optional string bio = 3;
}

message CreateUserResponse {
  User user = 1;
}

message UpdateUserRequest {
  int64 id = 1;
  optional string email = 2;
  optional string name = 3;
  optional string bio = 4;
}

message UpdateUserResponse {
  User user = 1;
}

message DeleteUserRequest {
  int64 id = 1;
}

message DeleteUserResponse {
  bool success = 1;
}


// Post types
message PostFilter {
  optional IntFilter id = 1;
  optional StringFilter title = 2;
  optional StringFilter content = 3;
  optional BoolFilter published = 4;
  optional IntFilter author_id = 5;
  optional TimestampFilter created_at = 6;
  optional TimestampFilter updated_at = 7;
}

message PostOrderBy {
  optional OrderDirection id = 1;
  optional OrderDirection title = 2;
  optional OrderDirection content = 3;
  optional OrderDirection author_id = 4;
  optional OrderDirection created_at = 5;
  optional OrderDirection updated_at = 6;
}

message PostEdge {
  string cursor = 1;
  Post node = 2;
}

message PostConnection {
  repeated PostEdge edges = 1;
  PageInfo page_info = 2;
}

message GetPostRequest {
  int64 id = 1;
}

message GetPostResponse {
  Post post = 1;
}

message ListPostsRequest {
  // Relay pagination
  optional string after = 1;
  optional string before = 2;
  optional int32 first = 3;
  optional int32 last = 4;
  // Filter & ordering
  optional PostFilter filter = 5;
  optional PostOrderBy order_by = 6;
}

message CreatePostRequest {
  string title = 1;
  string content = 2;
  bool published = 3;
  int64 author_id = 4;
}

message CreatePostResponse {
  Post post = 1;
}

message UpdatePostRequest {
  int64 id = 1;
  optional string title = 2;
  optional string content = 3;
  optional bool published = 4;
  optional int64 author_id = 5;
}

message UpdatePostResponse {
  Post post = 1;
}

message DeletePostRequest {
  int64 id = 1;
}

message DeletePostResponse {
  bool success = 1;
}

